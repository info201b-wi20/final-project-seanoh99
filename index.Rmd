---
title: "Exploring Facebook Political Ads"
author: "Christopher Lee et al."
date: "3/1/2020"
output: html_document
---
```{r, echo=FALSE, message=FALSE, warning=FALSE}
library(knitr)
source("scripts/region_table.r")
source("scripts/age_table.r")
source("scripts/expand_targets.r")
source("scripts/get_summary_info.r")
source("scripts/expand_entities.r")
df <- read.csv("data/sampled-facebook-ads.csv", stringsAsFactors = FALSE)
df_tar <- expand_targets(df)
df_ent <- expand_entities(df)
```

## Introduction
  With the rise of big data analytics companies are spending more and more money on advertising. This is because ads are now more influential than ever, combining psychological research with vast personal data. One of the most concerning things about this trend is its application in political advertising. In our last election cycle, Facebook was taken to court over its role in influencing the election. The ads were claimed to be so influential that they decided the outcome of the election as a whole. It would be interesting to study Facebook ads and political ads on an aggregate scale where we can hopefully generate some insights and reach a new understanding of this problem. Our data comes from three public data sets. Two from ProPublica and one from Google's BigQuery Platform. The titles of the data sets are "Political Ads by Facebook", "Facebooks Ad Categories", and "FCC Political Ads".
  
## Summary
```{r, echo=FALSE, warning=FALSE}
summary_info <- get_summary_info(df)
```
Across the `r summary_info$observations` rows of data that were analyed in this report, the leading advertiser was `r summary_info$advertiser` and `r summary_info$funder` funded the most prolific ads. This information is notable because the organization that funded the most ads turned out the be the International Rescue Committee, a humanitarian organization founded by Albert Einstein, with ads that are largely detatched from discernable political motivations. That being said, the leading advertiser, `r summary_info$advertiser`, is a politician. Overall, the percentage of analyzed ads that were determined to be political was about `r summary_info$political_percentage`%.

## Who do Facebook Ads Target?
```{r, echo=FALSE, warning=FALSE}
kable(region_table(df_tar))
kable(age_table(df_tar))
```
These two tables group the sample of 10,000 facebook political ads by targeted age group and targeted region (if it was listed, many NA values). This is important because we can use this to see who and where most advertisers are targetting. We notice immediately that California, Florida, and Texas stand out as significant states, which comes as no surprise as they have the most electoral votes. For age, it is apparent that most of the ads are targetted at "18 and older". This is of at least voting age. However because of the wide range of ages in this category it also might mean that age is no the primary way advertisers use to target ads. 
  
## Chart
